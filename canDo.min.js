var CanDo=function(f,h){var d,i=0,j=function(){i-=1;0===i&&(d.t.splash&&d.update({time:0}),d.s.loaded=!0)};d=!0===h.webgl?f.getContext("experimental-webgl"):f.getContext("2d");d.t={duration:1E3,frameRate:30,cuePoints:{},mode:"",wait:!0,splash:!0,easing:"linear"};d.s={time:0,easedTime:0,speed:1,startTime:0,endTime:0,intervalTimer:0,loaded:!0,height:f.height,width:f.width};d.configure=function(a){var b,c;"undefined"!==typeof a.duration&&(this.t.duration=a.duration);"undefined"!==typeof a.frameRate&&
(this.t.frameRate=a.frameRate);"undefined"!==typeof a.cuePoints&&(this.t.cuePoints=a.cuePoints);"undefined"!==typeof a.mode&&(this.t.mode=a.mode);"undefined"!==typeof a.wait&&(this.t.wait=a.wait);"undefined"!==typeof a.splash&&(this.t.splash=a.splash);"undefined"!==typeof a.easing&&(this.t.easing=a.easing);this.t.frameInterval=Math.floor(1E3/this.t.frameRate);"undefined"!==typeof a.setTime&&(this.s.time=a.setTime);"undefined"!==typeof a.setTime&&(this.s.easedTime=a.setTime);"undefined"!==typeof a.speed&&
(this.s.speed=a.speed);if("undefined"!==typeof a.images)for(b in this.s.loaded=!1,this.images=a.images,this.images)this.images.hasOwnProperty(b)&&(i+=1,this.images[b].img=new Image,this.images[b].img.onload=j,this.images[b].img.src=this.images[b].url);"undefined"!==typeof a.paint&&(this.paint=a.paint);if("undefined"!==typeof a.events)for(c in a.events)a.events.hasOwnProperty(c)&&(f.addEventListener?f.addEventListener(c,a.events[c],!1):f.attachEvent&&f.attachEvent("on"+c,a.events[c]))};d.play=function(a){"undefined"!==
typeof a&&this.configure(a);this.t.scaledDuration=Math.abs(this.t.duration/this.s.speed);a=0>this.s.speed?1-this.s.time:this.s.time;this.s.startTime=0===this.s.time?Date.now():Date.now()-d.t.scaledDuration*a;this.s.endTime=this.s.startTime+this.t.scaledDuration;this.s.intervalTimer=setInterval(function(a){a.update()},this.t.frameInterval,this);this.update()};d.update=function(a){"undefined"===typeof a&&(a={});this.configure(a);this.s.time="undefined"===typeof a.time?0<this.s.speed?(Date.now()-this.s.startTime)/
this.t.scaledDuration:(this.s.endTime-Date.now())/this.t.scaledDuration:a.time;this.s.easedTime=this.easing[this.t.easing](0,this.s.time,[0],[1],1)[0];if(1>this.s.time&&0<this.s.speed||0<this.s.time&&0>this.s.speed)this.paint();else if(""===this.t.mode&&(clearInterval(this.s.intervalTimer),this.s.time=0<this.s.speed?1:0,this.s.easedTime=0<this.s.speed?1:0,this.paint()),"loop"===this.t.mode)this.s.time=0<this.s.speed?1:0,this.s.easedTime=0<this.s.speed?1:0,this.paint(),this.s.time=0<this.s.speed?0:
1,this.s.easedTime=0<this.s.speed?0:1,this.play({time:0})};d.getCurrentKeyframe=function(a){var b,c,g={start:0,end:1};b=0;for(c=a.length;b<c;b+=1)if("string"===typeof a[b].cuePoint&&(a[b].cuePoint=this.t.cuePoints[a[b].cuePoint]),a[b].cuePoint<=this.s.easedTime)g.start=b,g.end=b+1;g.end==a.length&&(g.end=a.length-1,g.start=g.end-1);g.subDuration=a[g.end].cuePoint-a[g.start].cuePoint;g.subTime=Math.pow(this.s.easedTime-a[g.start].cuePoint,2)/g.subDuration;return g};d.identity=function(){this.setTransform(1,
0,0,1,0,0)};d.canDo=function(a,b){var c=this.getCurrentKeyframe(b),c=this.easing[b[c.end].easing||"linear"](c.bounces,c.subTime,b[c.start].params,b[c.end].params,c.subDuration);return this[a].apply(this,c)};d.canSet=function(a,b){var c=this.getCurrentKeyframe(b),c=this.easing[b[c.end].easing||"linear"](c.bounces,c.subTime,b[c.start].params,b[c.end].params,c.subDuration);this[a]=c[0]};d.easing={linear:function(a,b,c,g,e){var d,f=[],a=0;for(d=c.length;a<d;a+=1)f.push(b/e*(g[a]-c[a])+c[a]);return f},
swing:function(a,b,c,d,e){for(var a=[],f=-Math.cos(b/e*Math.PI)/2+0.5,b=0,e=c.length;b<e;b+=1)a.push(f*(d[b]-c[b])+c[b]);return a},easeInQuad:function(a,b,c,d,e){for(var a=[],f=Math.pow(b/e,2),b=0,e=c.length;b<e;b+=1)a.push((d[b]-c[b])*f+c[b]);return a},easeOutQuad:function(a,b,c,d,e){for(var a=[],f=b/e*(b/e-2),b=0,e=c.length;b<e;b+=1)a.push(-(d[b]-c[b])*f+c[b]);return a},easeInOutQuad:function(a,b,c,d,e){var f,a=[],h=b/(e/2),e=0;for(f=c.length;e<f;e+=1)b=(d[e]-c[e])/2,1>h?a.push(b*h*h+c[e]):a.push(-1*
b*((h-1)*(h-3)-1)+c[e]);return a}};d.configure(h);"undefined"!==typeof h.init&&h.init(d);"undefined"===typeof h.images&&d.t.splash&&d.update({time:0});return d};