var CanDo=function(m,g){function k(a){var b;return a&&a.constructor===Array&&3===a.length?(a.push(1),a):(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9.]{1,3})\s*\)/.exec(a))?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),Number(b[4])]:(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),1]:(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))?
[2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),1]:(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1]:(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))?[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16),1]:/rgba\(0, 0, 0, 0\)/.exec(a)?l.transparent:l[a.toLowerCase()]}var f=document.getElementById(m),d,j,i=0,n=function(){i-=1;0===i&&(d.t.splash&&d.update({time:0}),d.s.loaded=!0)};d=f.getContext("2d");
d.t={duration:1E3,frameRate:30,cuePoints:{},mode:"",wait:!0,splash:!0,easing:"linear"};d.s={time:0,easedTime:0,speed:1,startTime:0,endTime:0,intervalTimer:0,loaded:!0,height:f.height,width:f.width};d.configure=function(a){var b,c;"undefined"!==typeof a.duration&&(this.t.duration=a.duration);"undefined"!==typeof a.frameRate&&(this.t.frameRate=a.frameRate);"undefined"!==typeof a.cuePoints&&(this.t.cuePoints=a.cuePoints);"undefined"!==typeof a.mode&&(this.t.mode=a.mode);"undefined"!==typeof a.wait&&
(this.t.wait=a.wait);"undefined"!==typeof a.splash&&(this.t.splash=a.splash);"undefined"!==typeof a.easing&&(this.t.easing=a.easing);this.t.frameInterval=Math.floor(1E3/this.t.frameRate);"undefined"!==typeof a.setTime&&(this.s.time=a.setTime);"undefined"!==typeof a.setTime&&(this.s.easedTime=a.setTime);"undefined"!==typeof a.speed&&(this.s.speed=a.speed);if("undefined"!==typeof a.images)for(b in this.s.loaded=!1,this.images=a.images,this.images)this.images.hasOwnProperty(b)&&(i+=1,this.images[b].img=
new Image,this.images[b].img.onload=n,this.images[b].img.src=this.images[b].url);"undefined"!==typeof a.paint&&(this.paint=a.paint);if("undefined"!==typeof a.events)for(c in a.events)a.events.hasOwnProperty(c)&&(f.addEventListener?f.addEventListener(c,a.events[c],!1):f.attachEvent&&f.attachEvent("on"+c,a.events[c]))};d.play=function(a){"undefined"!==typeof a&&this.configure(a);this.t.scaledDuration=Math.abs(this.t.duration/this.s.speed);a=0>this.s.speed?1-this.s.time:this.s.time;this.s.startTime=
0===this.s.time?Date.now():Date.now()-d.t.scaledDuration*a;this.s.endTime=this.s.startTime+this.t.scaledDuration;this.s.intervalTimer=setInterval(function(a){a.update()},this.t.frameInterval,this);this.update()};d.update=function(a){"undefined"===typeof a&&(a={});this.configure(a);this.s.time="undefined"===typeof a.time?0<this.s.speed?(Date.now()-this.s.startTime)/this.t.scaledDuration:(this.s.endTime-Date.now())/this.t.scaledDuration:a.time;this.s.easedTime=this.easing[this.t.easing](this.s.time);
if(1>this.s.time&&0<this.s.speed||0<this.s.time&&0>this.s.speed)this.paint();else if(""===this.t.mode&&(clearInterval(this.s.intervalTimer),this.s.time=0<this.s.speed?1:0,this.s.easedTime=0<this.s.speed?1:0,this.paint()),"loop"===this.t.mode)this.s.time=0<this.s.speed?1:0,this.s.easedTime=0<this.s.speed?1:0,this.paint(),this.s.time=0<this.s.speed?0:1,this.s.easedTime=0<this.s.speed?0:1,this.play({time:0})};d.getCurrentKeyframe=function(a){var b,c,d={start:0,end:1};b=0;for(c=a.length;b<c;b+=1)if("string"===
typeof a[b].cuePoint&&(a[b].cuePoint=this.t.cuePoints[a[b].cuePoint]),a[b].cuePoint<=this.s.easedTime)d.start=b,d.end=b+1;d.end===a.length&&(d.end=a.length-1,d.start=d.end-1);d.subDuration=a[d.end].cuePoint-a[d.start].cuePoint;d.subTime=(this.s.easedTime-a[d.start].cuePoint)/d.subDuration;return d};d.identity=function(){this.setTransform(1,0,0,1,0,0)};d.canDo=function(a,b){var c=this.getCurrentKeyframe(b),c=d.easeThis(b[c.end].easing||"linear",c.subTime,b[c.start].params,b[c.end].params);return this[a].apply(this,
c)};d.canSet=function(a,b){var c=this.getCurrentKeyframe(b),c=d.easeThis(b[c.end].easing||"linear",c.subTime,b[c.start].params,b[c.end].params);this[a]=c[0]};d.easeThis=function(a,b,c,f){var e,i=c.length,g=[],h;for(e=0;e<i;e+=1)if(!isNaN(parseFloat(c[e]))&&isFinite(c[e]))h=d.easing[a](b),g.push((f[e]-c[e])*h+c[e]);else if("string"===typeof c[e]&&"rgb"==c[e].substring(0,3)){h=k(c[e]);var j=k(f[e]);h=d.easeThis(a,b,h,j);g.push("rgba("+Math.floor(Number(h[0]))+","+Math.floor(Number(h[1]))+","+Math.floor(Number(h[2]))+
","+Number(h[3])+")")}else g.push(c[e]);return g};d.each=function(a,b){var c,d=a.length;if(void 0===d)for(c in a){if(a.hasOwnProperty(c)&&!1===b.call(a[c],c,a[c]))break}else for(c=0;c<d&&!1!==b.call(a[c],c,a[c]);c+=1);};var l={black:[0,0,0,1],blue:[0,0,255,1],green:[0,128,0,1],red:[255,0,0,1],white:[255,255,255,1],transparent:[0,0,0,0]};d.easing={linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+0.5}};j={Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-
Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}};d.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,b){j[b]=function(b){return Math.pow(b,a+2)}});d.each(j,function(a,b){d.easing["easeIn"+a]=b;d.easing["easeOut"+a]=function(a){return 1-b(1-a)};d.easing["easeInOut"+a]=
function(a){return 0.5>a?b(2*a)/2:b(-2*a+2)/-2+1}});d.configure(g);"undefined"!==typeof g.init&&g.init(d);"undefined"===typeof g.images&&d.t.splash&&d.update({time:0});return d};