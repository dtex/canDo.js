var CanDo=function(k,m){var a=k.getContext("2d"),l=0,i,j,n=function(){l-=1;0===l&&(a.t.splash&&a.update({time:0}),a.s.loaded=!0)};a.t={duration:1E3,frameRate:30,cuePoints:{},mode:"",wait:!0,splash:!0,easing:"linear"};a.s={time:0,easedTime:0,speed:1,startTime:0,endTime:0,intervalTimer:0,loaded:!0};a.configure=function(c){"undefined"!==typeof c.duration&&(a.t.duration=c.duration);"undefined"!==typeof c.frameRate&&(a.t.frameRate=c.frameRate);"undefined"!==typeof c.cuePoints&&(a.t.cuePoints=c.cuePoints);
"undefined"!==typeof c.mode&&(a.t.mode=c.mode);"undefined"!==typeof c.wait&&(a.t.wait=c.wait);"undefined"!==typeof c.splash&&(a.t.splash=c.splash);"undefined"!==typeof c.easing&&(a.t.easing=c.easing);a.t.frameInterval=Math.floor(1E3/a.t.frameRate);"undefined"!==typeof c.setTime&&(a.s.time=c.setTime);"undefined"!==typeof c.setTime&&(a.s.easedTime=c.setTime);"undefined"!==typeof c.speed&&(a.s.speed=c.speed);if("undefined"!==typeof c.images)for(i in a.s.loaded=!1,a.images=c.images,a.images)a.images.hasOwnProperty(i)&&
(l+=1,a.images[i].img=new Image,a.images[i].img.onload=n,a.images[i].img.src=a.images[i].url);"undefined"!==typeof c.paint&&(a.paint=c.paint);if("undefined"!==typeof c.events)for(j in c.events)c.events.hasOwnProperty(j)&&(k.addEventListener?k.addEventListener(j,c.events[j],!1):k.attachEvent&&k.attachEvent("on"+j,c.events[j]))};a.play=function(c){"undefined"!==typeof c&&a.configure(c);a.t.scaledDuration=Math.abs(a.t.duration/a.s.speed);c=0>a.s.speed?1-a.s.time:a.s.time;a.s.startTime=0===a.s.time?Date.now():
Date.now()-a.t.scaledDuration*c;a.s.endTime=a.s.startTime+a.t.scaledDuration;a.s.intervalTimer=setInterval(function(){a.update()},a.t.frameInterval);a.update()};a.update=function(c){void 0===c&&(c={});a.configure(c);a.s.time="undefined"===typeof c.time?0<a.s.speed?(Date.now()-a.s.startTime)/a.t.scaledDuration:(a.s.endTime-Date.now())/a.t.scaledDuration:c.time;a.s.easedTime=a.easing[a.t.easing](0,a.s.time,[0],[1],1)[0];if(1>a.s.time&&0<a.s.speed||0<a.s.time&&0>a.s.speed)a.paint();else if(""===a.t.mode&&
(clearInterval(a.s.intervalTimer),a.s.time=0<a.s.speed?1:0,a.s.easedTime=0<a.s.speed?1:0,a.paint()),"loop"===a.t.mode)a.s.time=0<a.s.speed?1:0,a.s.easedTime=a.paint(),a.s.time=0<a.s.speed?0:1,a.s.easedTime=0<a.s.speed?0:1,a.play({time:0})};a.getCurrentKeyframe=function(c){var b,d,f={start:0,end:1};b=0;for(d=c.length;b<d;b+=1)if("string"===typeof c[b].cuePoint&&(c[b].cuePoint=a.t.cuePoints[c[b].cuePoint]),c[b].cuePoint<a.s.easedTime)f.start=b,f.end=b+1;f.subDuration=c[f.end].cuePoint-c[f.start].cuePoint;
f.subTime=Math.pow(a.s.easedTime-c[f.start].cuePoint,2)/f.subDuration;return f};a.identity=function(){this.setTransform(1,0,0,1,0,0)};a.canDo=function(c,b){var d=a.getCurrentKeyframe(b),d=a.easing[b[d.end].easing||"linear"](d.bounces,d.subTime,b[d.start].params,b[d.end].params,d.subDuration);return a[c].apply(this,d)};a.canSet=function(c,b){var d=a.getCurrentKeyframe(b),d=a.easing[b[d.end].easing||"linear"](d.bounces,d.subTime,b[d.start].params,b[d.end].params,d.subDuration);a[c]=d[0]};a.easing={linear:function(a,
b,d,f,e){var g,h=[],a=0;for(g=d.length;a<g;a+=1)h.push(b/e*(f[a]-d[a])+d[a]);return h},swing:function(a,b,d,f,e){for(var a=[],g=-Math.cos(b/e*Math.PI)/2+0.5,b=0,e=d.length;b<e;b+=1)a.push(g*(f[b]-d[b])+d[b]);return a},easeInQuad:function(a,b,d,f,e){for(var a=[],g=Math.pow(b/e,2),b=0,e=d.length;b<e;b+=1)a.push((f[b]-d[b])*g+d[b]);return a},easeOutQuad:function(a,b,d,f,e){for(var a=[],g=b/e*(b/e-2),b=0,e=d.length;b<e;b+=1)a.push(-(f[b]-d[b])*g+d[b]);return a},easeInOutQuad:function(a,b,d,f,e){var g,
a=[],h=b/(e/2),e=0;for(g=d.length;e<g;e+=1)b=(f[e]-d[e])/2,1>h?a.push(b*h*h+d[e]):a.push(-1*b*((h-1)*(h-3)-1)+d[e]);return a}};a.configure(m);"undefined"===typeof m.images&&a.t.splash&&a.update({time:0});return a};