var CanDo=function(k,c){var a=k.getContext("2d"),l=0,h,j,m=function(){l-=1;0===l&&(a.t.splash&&a.update({time:0}),a.s.loaded=!0)};a.t={duration:"undefined"===typeof c.duration?1E3:c.duration,frameRate:"undefined"===typeof c.frameRate?30:c.frameRate,cuePoints:"undefined"===typeof c.cuePoints?{}:c.cuePoints,mode:"undefined"===typeof c.mode?"":c.mode,wait:"undefined"===typeof c.wait?!0:c.wait,splash:"undefined"===typeof c.splash?!0:c.splash,easing:"undefined"===typeof c.easing?"linear":c.easing};a.t.frameInterval=
Math.floor(1E3/a.t.frameRate);a.s={time:c.setTime||0,easedTime:c.setTime||0,speed:c.playbackSpeed||1,startTime:0,endTime:0,intervalTimer:0,loaded:!0};if("undefined"!==typeof c.images)for(h in a.s.loaded=!1,a.images=c.images,a.images)a.images.hasOwnProperty(h)&&(l+=1,a.images[h].img=new Image,a.images[h].img.onload=m,a.images[h].img.src=a.images[h].url);a.paint=c.paint;if("undefined"!==typeof c.events)for(j in c.events)c.events.hasOwnProperty(j)&&(k.addEventListener?k.addEventListener(j,c.events[j],
!1):k.attachEvent&&k.attachEvent("on"+j,c.events[j]));a.play=function(e){void 0===e&&(e={});"undefined"!==typeof e.speed&&(a.s.speed=e.speed);"undefined"!==typeof e.time&&(a.s.time=e.time);"undefined"!==typeof e.mode&&(a.t.mode=e.mode);a.t.scaledDuration=Math.abs(a.t.duration/a.s.speed);e=0>a.s.speed?1-a.s.time:a.s.time;a.s.startTime=0===a.s.time?Date.now():Date.now()-a.t.scaledDuration*e;a.s.endTime=a.s.startTime+a.t.scaledDuration;a.s.intervalTimer=setInterval(function(){a.update()},a.t.frameInterval);
a.update()};a.update=function(e){void 0===e&&(e={});a.s.time="undefined"===typeof e.time?0<a.s.speed?(Date.now()-a.s.startTime)/a.t.scaledDuration:(a.s.endTime-Date.now())/a.t.scaledDuration:e.time;a.s.easedTime=a.easing[a.t.easing](0,a.s.time,[0],[1],1)[0];1>a.s.time&&0<a.s.speed||0<a.s.time&&0>a.s.speed?a.paint():(""===a.t.mode&&(clearInterval(a.s.intervalTimer),a.s.time=0<a.s.speed?1:0,a.s.easedTime=0<a.s.speed?1:0,a.paint()),"loop"===a.t.mode&&(a.s.time=0<a.s.speed?1:0,a.s.easedTime=a.paint(),
a.s.time=0<a.s.speed?0:1,a.s.easedTime=0<a.s.speed?0:1,a.play({time:0})))};a.getCurrentKeyframe=function(e){var b,d,c={start:0,end:1};for(b=0,d=e.length;b<d;b+=1)"string"===typeof e[b].cuePoint&&(e[b].cuePoint=a.t.cuePoints[e[b].cuePoint]),e[b].cuePoint<a.s.easedTime&&(c.start=b,c.end=b+1);c.subDuration=e[c.end].cuePoint-e[c.start].cuePoint;c.subTime=Math.pow(a.s.easedTime-e[c.start].cuePoint,2)/c.subDuration;return c};a.identity=function(){this.setTransform(1,0,0,1,0,0)};a.canDo=function(e,b){var d=
a.getCurrentKeyframe(b),d=a.easing[b[d.end].easing||"linear"](d.bounces,d.subTime,b[d.start].params,b[d.end].params,d.subDuration);return a[e].apply(this,d)};a.canSet=function(e,b){var d=a.getCurrentKeyframe(b),d=a.easing[b[d.end].easing||"linear"](d.bounces,d.subTime,b[d.start].params,b[d.end].params,d.subDuration);a[e]=d[0]};a.easing={linear:function(a,b,d,c,f){var g,i=[];for(a=0,g=d.length;a<g;a+=1)i.push(b/f*(c[a]-d[a])+d[a]);return i},swing:function(a,b,d,c,f){var a=[],g=-Math.cos(b/f*Math.PI)/
2+0.5;for(b=0,f=d.length;b<f;b+=1)a.push(g*(c[b]-d[b])+d[b]);return a},easeInQuad:function(a,b,d,c,f){var a=[],g=Math.pow(b/f,2);for(b=0,f=d.length;b<f;b+=1)a.push((c[b]-d[b])*g+d[b]);return a},easeOutQuad:function(a,b,c,h,f){var a=[],g=b/f*(b/f-2);for(b=0,f=c.length;b<f;b+=1)a.push(-(h[b]-c[b])*g+c[b]);return a},easeInOutQuad:function(a,b,c,h,f){var g,a=[],i=b/(f/2);for(f=0,g=c.length;f<g;f+=1)b=(h[f]-c[f])/2,1>i?a.push(b*i*i+c[f]):a.push(-1*b*((i-1)*(i-3)-1)+c[f]);return a}};"undefined"===typeof c.images&&
a.t.splash&&a.update({time:0});return a};