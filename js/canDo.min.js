var CanDo=function(m,k){var j=document.getElementById(m),c,l,g=0,n=function(){g-=1;0===g&&(c.s.splash&&c.update({time:0}),c.s.loaded=!0)};j.ctx=c=j.getContext("2d");c.s={duration:1E3,frameRate:60,cuePoints:{},mode:"",wait:!0,splash:!0,easing:"linear",time:0,easedTime:0,speed:0,startTime:0,endTime:0,intervalTimer:0,loaded:!0,canvasEvents:{},eventsQueue:{},currentEvents:{},currentCuePoints:{}};c.p={};c.configure=function(a){var b;if("undefined"!==typeof a){c.extend(this.s,a);"undefined"!==typeof a.setTime&&
(this.s.easedTime=this.s.time=a.setTime);if("undefined"!==typeof a.images)for(b in this.s.loaded=!1,this.images=a.images,this.images)this.images.hasOwnProperty(b)&&(g+=1,this.images[b].img=new Image,this.images[b].img.onload=n,this.images[b].img.src=this.images[b].url);"undefined"!==typeof a.paint&&(this.paint=a.paint);"undefined"!==typeof a.events&&(c.s.canvasEvents=a.events)}};c.play=function(a){clearInterval(this.s.intervalTimer);"undefined"!==typeof a&&this.configure(a);this.s.wait&&!1===this.s.loaded&&
setInterval(function(a,c){a.play(c)},100,this,a);this.s.scaledDuration=Math.abs(this.s.duration/this.s.speed);a=0>this.s.speed?1-this.s.time:this.s.time;this.s.startTime=0===this.s.time?Date.now():Date.now()-c.s.scaledDuration*a;this.s.endTime=this.s.startTime+this.s.scaledDuration;this.s.intervalTimer=setInterval(function(a){a.update()},this.s.frameInterval,this);this.update()};c.update=function(a){"undefined"===typeof a?a={}:this.configure(a);"undefined"===typeof a.time?0<this.s.speed?this.s.time=
(Date.now()-this.s.startTime)/this.s.scaledDuration:0>this.s.speed&&(this.s.time=(this.s.endTime-Date.now())/this.s.scaledDuration):this.s.time=a.time;this.s.easedTime=this.easing[this.s.easing](this.s.time);c.s.currentEvents=c.s.eventsQueue;c.s.eventsQueue={};this.doCanvasEvents();"undefined"!==typeof a.still||1>this.s.time&&0<this.s.speed||0<this.s.time&&0>this.s.speed?this.paint():(""===this.s.mode&&(clearInterval(this.s.intervalTimer),this.s.time=0<this.s.speed?1:0,this.s.easedTime=0<this.s.speed?
1:0,this.paint(),this.s.speed=0),"loop"===this.s.mode&&(this.s.easedTime=this.s.time=0<this.s.speed?1:0,this.paint(),this.s.easedTime=this.s.time=0<this.s.speed?0:1,this.play({time:0})))};c.doCanvasEvents=function(){c.each(c.s.currentEvents,function(a,b){"undefined"!==typeof c.s.canvasEvents[b]&&c.s.canvasEvents[b].apply(this)})};c.getCurrentKeyframe=function(a){var b,c=a.length,d={start:0,end:1};"undefined"===typeof a[0].cuePoint&&(a[0].cuePoint=0);"undefined"===typeof a[c-1].cuePoint&&(a[c-1].cuePoint=
1);for(b=0;b<c;b+=1)"string"===typeof a[b].cuePoint&&(a[b].cuePoint=this.s.cuePoints[a[b].cuePoint]),a[b].cuePoint<=this.s.easedTime&&(d.start=b,d.end=b+1);d.end===a.length&&(d.end=a.length-1,d.start=d.end);d.subDuration=a[d.end].cuePoint-a[d.start].cuePoint;d.subTime=(this.s.easedTime-a[d.start].cuePoint)/d.subDuration;return d};c.getCurrentCuePoints=function(){};c.getRGB=function(a){var b;if(a&&a.constructor===Array&&(3===a.length||4===a.length))return a.push(1),a;if(b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9.]{1,3})\s*\)/.exec(a))return[parseInt(b[1],
10),parseInt(b[2],10),parseInt(b[3],10),Number(b[4])];if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a))return[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),1];if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a))return[2.55*parseFloat(b[1]),2.55*parseFloat(b[2]),2.55*parseFloat(b[3]),1];if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],
16),1];if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a))return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16),1];/rgba\(0, 0, 0, 0\)/.exec(a);return[0,0,0,0]};c.identity=function(){this.setTransform(1,0,0,1,0,0)};c.canDo=function(a,b){var e,d=this.getCurrentKeyframe(b);e=d.start===d.end?b[d.start].params:c.easeThis(b[d.end].easing||"linear",d.subTime,b[d.start].params,b[d.end].params);(d.start!==d.end||1===b[d.end].cuePoint||1!==b[d.end].cuePoint&&!0===b[d.end].persist)&&
this[a].apply(this,e);return c};c.canSet=function(a,b){var e,d=this.getCurrentKeyframe(b);e=d.start===d.end?b[d.start].params:c.easeThis(b[d.end].easing||"linear",d.subTime,b[d.start].params,b[d.end].params);if(d.start!==d.end||1===b[d.end].cuePoint||1!==b[d.end].cuePoint&&!0===b[d.end].persist)this[a]=e[0];return c};c.canBeginPath=function(a){"undefined"!==typeof a&&("undefined"!==typeof a.easing&&(c.p.easing=a.easing),"undefined"!==typeof a.events&&(c.p.events=a.events));this.beginPath();return c};
c.canClosePath=function(){"undefined"!==typeof c.p.events&&c.each(c.p.events,function(a,b){"undefined"!==typeof c.s.currentEvents[b]&&c.isPointInPath(c.s.currentEvents[b].x,c.s.currentEvents[b].y)&&c.p.events[b].apply(this)});c.p={};this.closePath();return c};c.canShadow=function(a,b,e,d){this.shadowColor(a);this.shadowOffsetX(b);this.shadowOffsetY(e);this.shadowBlur(d);return c};c.easeThis=function(a,b,e,d){var f,j=e.length,g=[],h,k;for(f=0;f<j;f+=1)!isNaN(parseFloat(e[f]))&&isFinite(e[f])?(h=c.easing[a](b),
"undefined"!==typeof c.p.easing&&(h=c.easing[c.p.easing](h)),g.push((d[f]-e[f])*h+e[f])):"string"===typeof e[f]&&("rgb"===e[f].substring(0,3)||"#"===e[f].substring(0,1))?(h=c.getRGB(e[f]),k=c.getRGB(d[f]),h=c.easeThis(a,b,h,k),g.push("rgba("+Math.floor(Number(h[0]))+","+Math.floor(Number(h[1]))+","+Math.floor(Number(h[2]))+","+Number(h[3])+")")):g.push(e[f]);return g};c.each=function(a,b,e){if(null!=a)if(Array.prototype.forEach&&a.forEach)a.forEach(b,e);else if(a.length===+a.length)for(var d=0,f=
a.length;d<f&&!(d in a&&b.call(e,a[d],d,a)==={});d++);else for(d in a)if(c.has(a,d)&&b.call(e,a[d],d,a)==={})break};c.has=function(a,b){return hasOwnProperty.call(a,b)};c.extend=function(){for(var a,b,c,d=arguments[0]||{},f=1,g=arguments.length;f<g;f++)if(null!=(a=arguments[f]))for(b in a)c=a[b],d[b]=c;return d};c.easing={linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+0.5}};l={Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},
Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}};c.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,b){l[a]=function(a){return Math.pow(a,b+2)}});c.each(l,function(a,b){c.easing["easeIn"+b]=a;c.easing["easeOut"+b]=function(b){return 1-a(1-b)};c.easing["easeInOut"+b]=function(b){return 0.5>
b?a(2*b)/2:a(-2*b+2)/-2+1}});c.each(c.__proto__,function(a,b){c[b]=function(){return a.apply(this,arguments)||this}});c.configure(k);c.each(["click","mouseover","mouseout"],function(a){j.addEventListener?j.addEventListener(a,function(b){this.ctx.s.eventsQueue[a]={x:b.offsetX,y:b.offsetY};0===j.ctx.s.speed&&this.ctx.update({still:!0})},!1):j.addEventListener("on"+a,function(a){this.ctx.s.eventsQueue.name={x:a.offsetX,y:a.offsetY}},!1)});"undefined"!==typeof k.init&&k.init(c);"undefined"===typeof k.images&&
c.s.splash&&c.update({time:0});return c};