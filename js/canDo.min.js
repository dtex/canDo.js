var canDo=function(g,d){var a=g.getContext("2d"),h=0,i;a.t={duration:"undefined"===typeof d.duration?1E3:d.duration,frameRate:"undefined"===typeof d.frameRate?30:d.frameRate,cuePoints:"undefined"===typeof d.cuePoints?{}:d.cuePoints,mode:"undefined"===typeof d.mode?"":d.mode,wait:"undefined"===typeof d.wait?!0:d.wait,splash:"undefined"===typeof d.splash?!0:d.splash};a.t.frameInterval=Math.floor(1E3/a.t.frameRate);a.s={time:d.setTime||0,speed:d.playbackSpeed||1,startTime:0,endTime:0,intervalTimer:0,
loaded:!0};if("undefined"!==typeof d.images)for(i in a.s.loaded=!1,a.images=d.images,a.images)h+=1,a.images[i].img=new Image,a.images[i].img.onload=function(){h-=1;0===h&&(a.t.splash&&a.update({time:0}),a.s.loaded=!0)},a.images[i].img.src=a.images[i].url;a.paint=d.paint;if("undefined"!==typeof d.events)for(var j in d.events)g.addEventListener?g.addEventListener(j,d.events[j],!1):g.attachEvent&&g.attachEvent("on"+j,d.events[j]);a.play=function(e){var b;void 0===e&&(e={});"undefined"!==typeof e.speed&&
(a.s.speed=e.speed);"undefined"!==typeof e.time&&(a.s.time=e.time);"undefined"!==typeof e.mode&&(a.t.mode=e.mode);a.t.scaledDuration=Math.abs(a.t.duration/a.s.speed);0>a.s.speed?b=1-a.s.time:b=a.s.time;0==a.s.time?a.s.startTime=Date.now():a.s.startTime=Date.now()-a.t.scaledDuration*b;a.s.endTime=a.s.startTime+a.t.scaledDuration;a.s.intervalTimer=setInterval(function(){a.update()},a.t.frameInterval);a.update()};a.update=function(e){void 0===e&&(e={});a.s.time="undefined"===typeof e.time?0<a.s.speed?
(Date.now()-a.s.startTime)/a.t.scaledDuration:(a.s.endTime-Date.now())/a.t.scaledDuration:e.time;(1>a.s.time&&0<a.s.speed)|(0<a.s.time&&0>a.s.speed)?a.paint():(""==a.t.mode&&(clearInterval(a.s.intervalTimer),0<a.s.speed?a.s.time=1:a.s.time=0,a.paint()),"loop"==a.t.mode&&(0<a.s.speed?a.s.time=1:a.s.time=0,a.paint(),0<a.s.speed?a.s.time=0:a.s.time=1,a.play({time:0})))};a.getCurrentKeyframe=function(e){for(var b={start:0,end:1},c=0,d=e.length;c<d;c++)"string"===typeof e[c].cuePoint&&(e[c].cuePoint=a.t.cuePoints[e[c].cuePoint]),
e[c].cuePoint<a.s.time&&(b.start=c,b.end=c+1);b.subDuration=e[b.end].cuePoint-e[b.start].cuePoint;b.subTime=Math.pow(a.s.time-e[b.start].cuePoint,2)/b.subDuration;return b};a.identity=function(){this.setTransform(1,0,0,1,0,0)};a.canDo=function(e,b){var c=a.getCurrentKeyframe(b),c=a.easing[b[c.end].easing](c.bounces,c.subTime,b[c.start].params,b[c.end].params,c.subDuration);return a[e].apply(this,c)};a.canSet=function(e,b){var c=a.getCurrentKeyframe(b),c=a.easing[b[c.end].easing](c.bounces,c.subTime,
b[c.start].params,b[c.end].params,c.subDuration);a[e]=c[0]};a.easing={easeInQuad:function(a,b,c,d,f){for(var a=[],b=Math.pow(b/f,2),f=0,g=c.length;f<g;f++)a.push((d[f]-c[f])*b+c[f]);return a},easeOutQuad:function(a,b,c,d,f){for(var a=[],b=b/f*(b/f-2),f=0,g=c.length;f<g;f++)a.push(-(d[f]-c[f])*b+c[f]);return a},easeInOutQuad:function(a,b,c,d,f){for(var a=[],b=b/(f/2),f=0,g=c.length;f<g;f++){var h=(d[f]-c[f])/2;1>b?a.push(h*b*b+c[f]):a.push(-1*h*((b-1)*(b-3)-1)+c[f])}return a}};"undefined"===typeof d.images&&
a.t.splash&&a.update({time:0});return a};