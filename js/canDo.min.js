var canDo=function(g,d){var a=g.getContext("2d");a.t={duration:d.duration?d.duration:1E3,frameRate:d.frameRate?d.frameRate:30,frameInterval:30,cuePoints:d.cuePoints?d.cuePoints:{},mode:d.mode?d.mode:""};a.t.frameInterval=Math.floor(1E3/a.t.frameRate);a.s={time:d.setTime?d.setTime:0,speed:d.playbackSpeed?d.playbackSpeed:1,startTime:0,endTime:0,intervalTimer:0};a.paint=d.paint;a.play=function(e){e||(e={});e.speed&&(a.s.speed=e.speed);e.time&&(a.s.time=e.time);a.t.scaledDuration=a.t.duration/a.s.speed;
0==a.s.time?a.s.startTime=Date.now():a.s.startTime=Date.now()-a.t.scaledDuration/a.s.time;a.s.endTime=a.s.startTime+a.t.scaledDuration;a.s.intervalTimer=setInterval(function(){a.update()},a.t.frameInterval);a.update()};a.update=function(){a.s.time=(Date.now()-a.s.startTime)/a.t.scaledDuration;1>a.s.time?a.paint():(""==a.t.mode&&(clearInterval(a.s.intervalTimer),a.s.time=1,a.paint()),"loop"==a.t.mode&&(a.s.time=1,a.paint(),a.s.time=0,a.play({time:0})))};a.getCurrentKeyframe=function(e){var b={};b.start=
0;b.end=1;for(i=0,j=e.length;i<j;i++)"string"===typeof e[i].cuePoint&&(e[i].cuePoint=a.t.cuePoints[e[i].cuePoint]),e[i].cuePoint<a.s.time&&(b.start=i,b.end=i+1);b.subDuration=e[b.end].cuePoint-e[b.start].cuePoint;b.subTime=Math.pow(a.s.time-e[b.start].cuePoint,2)/b.subDuration;return b};a.identity=function(){this.setTransform(1,0,0,1,0,0)};a.canDo=function(e,b){var c=a.getCurrentKeyframe(b),c=a.easing[b[c.end].easing](c.bounces,c.subTime,b[c.start].params,b[c.end].params,c.subDuration);a[e].apply(this,
c)};a.canSet=function(e,b){var c=a.getCurrentKeyframe(b),c=a.easing[b[c.end].easing](c.bounces,c.subTime,b[c.start].params,b[c.end].params,c.subDuration);a[e]=c[0]};a.easing={easeInQuad:function(a,b,c,d,f){a=[];b=Math.pow(b/f,2);for(k=0,l=c.length;k<l;k++)a.push((d[k]-c[k])*b+c[k]);return a},easeOutQuad:function(a,b,c,d,f){a=[];b=b/f*(b/f-2);for(k=0,l=c.length;k<l;k++)a.push(-(d[k]-c[k])*b+c[k]);return a},easeInOutQuad:function(a,b,c,d,f){a=[];b/=f/2;for(k=0,l=c.length;k<l;k++)f=(d[k]-c[k])/2,1>b?
a.push(f*b*b+c[k]):a.push(-1*f*((b-1)*(b-3)-1)+c[k]);return a}};return a};