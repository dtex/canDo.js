var CanDo=function(e,t){"use strict";var s,i,n=document.getElementById(e),a=0,r={black:[0,0,0,1],blue:[0,0,255,1],green:[0,128,0,1],red:[255,0,0,1],white:[255,255,255,1],transparent:[0,0,0,0]},o=function(){a-=1,0===a&&(s.t.splash&&s.update({time:0}),s.s.loaded=!0)};return s=n.getContext("2d"),s.t={duration:1e3,frameRate:30,cuePoints:{},mode:"",wait:!0,splash:!0,easing:"linear"},s.s={time:0,easedTime:0,speed:1,startTime:0,endTime:0,intervalTimer:0,loaded:!0,height:n.height,width:n.width},s.p={},s.configure=function(e){var t,s;if("undefined"!=typeof e.duration&&(this.t.duration=e.duration),"undefined"!=typeof e.frameRate&&(this.t.frameRate=e.frameRate),"undefined"!=typeof e.cuePoints&&(this.t.cuePoints=e.cuePoints),"undefined"!=typeof e.mode&&(this.t.mode=e.mode),"undefined"!=typeof e.wait&&(this.t.wait=e.wait),"undefined"!=typeof e.splash&&(this.t.splash=e.splash),"undefined"!=typeof e.easing&&(this.t.easing=e.easing),this.t.frameInterval=Math.floor(1e3/this.t.frameRate),"undefined"!=typeof e.setTime&&(this.s.time=e.setTime),"undefined"!=typeof e.setTime&&(this.s.easedTime=e.setTime),"undefined"!=typeof e.speed&&(this.s.speed=e.speed),"undefined"!=typeof e.images){this.s.loaded=!1,this.images=e.images;for(t in this.images)this.images.hasOwnProperty(t)&&(a+=1,this.images[t].img=new Image,this.images[t].img.onload=o,this.images[t].img.src=this.images[t].url)}if("undefined"!=typeof e.paint&&(this.paint=e.paint),"undefined"!=typeof e.events)for(s in e.events)e.events.hasOwnProperty(s)&&(n.addEventListener?n.addEventListener(s,e.events[s],!1):n.attachEvent&&n.attachEvent("on"+s,e.events[s]))},s.play=function(e){var t;"undefined"!=typeof e&&this.configure(e),this.t.scaledDuration=Math.abs(this.t.duration/this.s.speed),t=this.s.speed<0?1-this.s.time:this.s.time,this.s.startTime=0===this.s.time?Date.now():Date.now()-s.t.scaledDuration*t,this.s.endTime=this.s.startTime+this.t.scaledDuration,this.s.intervalTimer=setInterval(function(e){e.update()},this.t.frameInterval,this),this.update()},s.update=function(e){"undefined"==typeof e&&(e={}),this.configure(e),"undefined"==typeof e.time?this.s.speed>0?this.s.time=(Date.now()-this.s.startTime)/this.t.scaledDuration:this.s.time=(this.s.endTime-Date.now())/this.t.scaledDuration:this.s.time=e.time,this.s.easedTime=this.easing[this.t.easing](this.s.time),this.s.time<1&&this.s.speed>0||this.s.time>0&&this.s.speed<0?this.paint():(""===this.t.mode&&(clearInterval(this.s.intervalTimer),this.s.time=this.s.speed>0?1:0,this.s.easedTime=this.s.speed>0?1:0,this.paint()),"loop"===this.t.mode&&(this.s.time=this.s.speed>0?1:0,this.s.easedTime=this.s.speed>0?1:0,this.paint(),this.s.time=this.s.speed>0?0:1,this.s.easedTime=this.s.speed>0?0:1,this.play({time:0})))},s.getCurrentKeyframe=function(e){var t,s=e.length,i={start:0,end:1};for("undefined"==typeof e[0].cuePoint&&(e[0].cuePoint=0),"undefined"==typeof e[s-1].cuePoint&&(e[s-1].cuePoint=1),t=0;s>t;t+=1)"string"==typeof e[t].cuePoint&&(e[t].cuePoint=this.t.cuePoints[e[t].cuePoint]),e[t].cuePoint<=this.s.easedTime&&(i.start=t,i.end=t+1);return i.end===e.length&&(i.end=e.length-1,i.start=i.end),i.subDuration=e[i.end].cuePoint-e[i.start].cuePoint,i.subTime=(this.s.easedTime-e[i.start].cuePoint)/i.subDuration,i},s.getRGB=function(e){var t;return!e||e.constructor!==Array||3!==e.length&&4!==e.length?(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9.]{1,3})\s*\)/.exec(e))?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),Number(t[4])]:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),1]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3]),1]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1]:(t=/rgba\(0, 0, 0, 0\)/.exec(e))?r.transparent:r[e.toLowerCase()]:(e.push(1),e)},s.identity=function(){this.setTransform(1,0,0,1,0,0)},s.canDo=function(e,t){var i,n,a=this.getCurrentKeyframe(t);return i=a.start===a.end?t[a.start].params:s.easeThis(t[a.end].easing||"linear",a.subTime,t[a.start].params,t[a.end].params),(a.start!==a.end||1===t[a.end].cuePoint||1!==t[a.end].cuePoint&&t[a.end].persist===!0)&&(n=this[e].apply(this,i)),n},s.canSet=function(e,t){var i,n=this.getCurrentKeyframe(t);i=n.start===n.end?t[n.start].params:s.easeThis(t[n.end].easing||"linear",n.subTime,t[n.start].params,t[n.end].params),(n.start!==n.end||1===t[n.end].cuePoint||1!==t[n.end].cuePoint&&t[n.end].persist===!0)&&(this[e]=i[0])},s.canBeginPath=function(e){"undefined"!=typeof e&&"undefined"!=typeof e.easing&&(s.p.easing=e.easing),this.beginPath()},s.canClosePath=function(){s.p={},this.closePath()},s.easeThis=function(e,t,i,n){var a,r,o,h,u,d=i.length,f=[];for(a=0;d>a;a+=1)!isNaN(parseFloat(i[a]))&&isFinite(i[a])?(r=s.easing[e](t),"undefined"!=typeof s.p.easing&&(r=s.easing[s.p.easing](r)),f.push((n[a]-i[a])*r+i[a])):"string"!=typeof i[a]||"rgb"!==i[a].substring(0,3)&&"#"!==i[a].substring(0,1)?f.push(i[a]):(o=s.getRGB(i[a]),h=s.getRGB(n[a]),u=s.easeThis(e,t,o,h),f.push("rgba("+Math.floor(Number(u[0]))+","+Math.floor(Number(u[1]))+","+Math.floor(Number(u[2]))+","+Number(u[3])+")"));return f},s.each=function(e,t){var s,i,n=e.length,a=void 0===n;if(a){for(s in e)if(e.hasOwnProperty(s)&&t.call(e[s],s,e[s])===!1)break}else for(i=0;n>i&&t.call(e[i],i,e[i])!==!1;i+=1);},s.easing={linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},i={Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,s=4;e<((t=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((3*t-2)/22-e,2)}},s.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){i[t]=function(t){return Math.pow(t,e+2)}}),s.each(i,function(e,t){s.easing["easeIn"+e]=t,s.easing["easeOut"+e]=function(e){return 1-t(1-e)},s.easing["easeInOut"+e]=function(e){return.5>e?t(2*e)/2:t(-2*e+2)/-2+1}}),s.configure(t),"undefined"!=typeof t.init&&t.init(s),"undefined"==typeof t.images&&s.t.splash&&s.update({time:0}),s};
