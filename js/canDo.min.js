var canDo=function(g,c){var a=g.getContext("2d");c||(c={});a.v="0.0.1";a.timeLine={duration:c.duration?c.duration:1E3,frameRate:c.frameRate?c.frameRate:30,frameInterval:30,cuePoints:c.cuePoints?c.cuePoints:{},mode:c.mode?c.mode:1};a.timeLine.frameInterval=Math.floor(1E3/a.timeLine.frameRate);a.status={time:c.setTime?c.setTime:0,speed:c.playbackSpeed?c.playbackSpeed:1,startTime:0,endTime:0,intervalTimer:0};a.paint=c.paint;a.play=function(e){e||(e={});e.speed&&(a.status.speed=e.speed);e.time&&(a.status.time=
e.time);a.timeLine.scaledDuration=a.timeLine.duration/a.status.speed;0==a.status.time?a.status.startTime=Date.now():a.status.startTime=Date.now()-a.timeLine.scaledDuration*a.status.speed/a.status.time;a.status.endTime=a.status.startTime+a.timeLine.scaledDuration;a.status.intervalTimer=setInterval(function(){a.update()},a.timeLine.frameInterval);a.update()};a.update=function(){a.status.time=(Date.now()-a.status.startTime)/a.timeLine.scaledDuration;1>a.status.time?a.paint():(1==a.timeLine.mode&&(clearInterval(a.status.intervalTimer),
a.status.time=1,a.paint()),2==a.timeLine.mode&&(a.status.time=1,a.paint(),a.status.time=0,a.play({time:0})))};a.getCurrentKeyframe=function(e){var b={};b.start=0;b.end=1;for(i=0,j=e.length;i<j;i++)"string"===typeof e[i].cuePoint&&(e[i].cuePoint=a.timeLine.cuePoints[e[i].cuePoint]),e[i].cuePoint<a.status.time&&(b.start=i,b.end=i+1);b.subDuration=e[b.end].cuePoint-e[b.start].cuePoint;b.subTime=Math.pow(a.status.time-e[b.start].cuePoint,2)/b.subDuration;b.bounces=0;return b};a.canDo=function(e,b){var d=
a.getCurrentKeyframe(b),d=a.easing[b[d.end].easing](d.bounces,d.subTime,b[d.start].params,b[d.end].params,d.subDuration);a[e].apply(this,d)};a.easing={easeInQuad:function(a,b,d,c,f){a=[];b=Math.pow(b/f,2);for(k=0,l=d.length;k<l;k++)a.push((c[k]-d[k])*b+d[k]);return a},easeOutQuad:function(a,b,d,c,f){a=[];b=b/f*(b/f-2);for(k=0,l=d.length;k<l;k++)a.push(-(c[k]-d[k])*b+d[k]);return a},easeInOutQuad:function(a,b,d,c,f){a=[];b/=f/2;for(k=0,l=d.length;k<l;k++)f=(c[k]-d[k])/2,1>b?a.push(f*b*b+d[k]):a.push(-1*
f*((b-1)*(b-3)-1)+d[k]);return a}};return a};